#  -*- coding:utf-8 mode:yaml -*-
#  Ansible playbook
#  Copyright 2020 Takeharu KATO All Rights Reserved.
#
- name: Site common settings
  hosts: all
  remote_user: '{{ ansible_user }}'
  become: true
  gather_facts: true

- name: Basic host configuration
  import_playbook: basic.yml
- name: Configure router hosts
  import_playbook: router.yml
- name: Configure management server hosts
  import_playbook: server.yml
- name: Configure hosts for development
  import_playbook: devel.yml
- name: Configure Rancher hosts
  import_playbook: rancher.yml
- name: Configure FRR nodes
  import_playbook: frr.yml
- name: Configure control planes
  import_playbook: k8s-ctrl-plane.yml
- name: Configure k8s worker nodes
  import_playbook: k8s-worker.yml
- name: Configure k8s control planes after installation.
  import_playbook: k8s-management.yml
- name: Configure development hosts on privite networks
  import_playbook: internal-devel.yml
