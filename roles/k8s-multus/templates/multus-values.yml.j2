#
#  -*- coding:utf-8 mode:yaml -*-
# This file is generated by ansible.
{# 日付の取得 #}
# last update: {{ '%Y-%m-%d %H:%M:%S %Z' | strftime(ansible_date_time.epoch) }}

#
# Multus CNI 設定値
#

# Namespace
namespace: kube-system

# Multus container image configuration
image:
  repository: {{ k8s_multus_image_repository }}
  tag: {{ k8s_multus_image_version }}
  pullPolicy: IfNotPresent

# Service Account name
serviceAccount:
  name: multus

# CNI configuration
cni:
  binDir: {{ k8s_multus_cni_bin_dir }}
  confDir: {{ k8s_multus_cni_conf_dir }}
  autoConfigDir: {{ k8s_multus_cni_conf_dir }}

# Multus daemon configuration
multus:
  confFile: auto
  args:
    - "--multus-conf-file=auto"
    - "--multus-autoconfig-dir=/host{{ k8s_multus_cni_conf_dir }}"
    - "--cni-conf-dir=/host{{ k8s_multus_cni_conf_dir }}"

# Resource requests and limits
resources:
  requests:
    cpu: "100m"
    memory: "50Mi"
  limits:
    cpu: "100m"
    memory: "50Mi"

# Init container resources
initResources:
  requests:
    cpu: "10m"
    memory: "15Mi"

# Tolerations for Multus DaemonSet
tolerations:
  - operator: Exists
    effect: NoSchedule
  - operator: Exists
    effect: NoExecute

# Node selector
nodeSelector: {}

# Use host network
hostNetwork: true

# Security context
securityContext:
  privileged: true

# Termination grace period in seconds
terminationGracePeriodSeconds: 10

# Update strategy
updateStrategy:
  type: RollingUpdate

# Labels
labels:
  tier: node
  app: multus
  name: multus

# ConfigMap with CNI configuration
# Multusは通常、既存のCNI設定を自動検出するため、ConfigMapは無効化
cniConfig:
  enabled: false

# Install type for multus binary (thin or thick)
installType: {{ k8s_multus_install_type }}
