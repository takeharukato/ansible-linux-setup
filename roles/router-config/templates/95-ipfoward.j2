#
#  -*- coding:utf-8 mode:bash -*-
# This file is generated by ansible.
{# 日付の取得 #}
# last update: {{ '%Y-%m-%d %H:%M:%S %Z' | strftime(ansible_date_time.epoch) }}

#
# IPv4 Forwarding設定
#
# ipv4フォワーディングを有効化
net.ipv4.ip_forward=1
# ソースルーティングパケットの処理設定を変更
# Reverse Path Filtering（RPF）をルーズモードに設定し,
# 受信パケットのソースアドレスが, どのネットワークインターフェースからでも
# 到達可能であればパケットを受け入れる。
net.ipv4.conf.all.rp_filter=2
# デフォルトインターフェースのソースルーティングパケットの処理設定を
# Reverse Path Filtering（RPF）をルーズモードに設定することで,
# 作成されるネットワークインターフェースのデフォルトのRP_Filter値を
# ルーズモードにする。
net.ipv4.conf.default.rp_filter=2

#
# IPv6 Forwarding設定
#
# ipv6フォワーディングを有効化
net.ipv6.conf.all.forwarding=1
# デフォルトインターフェースのipv6フォワーディングを有効化
# 作成されるネットワークインターフェースのデフォルトの
# ipv6フォワーディング値を有効化する。
net.ipv6.conf.default.forwarding=1
# 管理インターフェースでルーター広告(RA)を受け入れる
# フォワーディングが有効でもRAを受け入れるようにする
net.ipv6.conf.{{ mgmt_nic|default('ens160',true) }}.accept_ra=2
