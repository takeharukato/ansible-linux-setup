#
#  -*- coding:utf-8 mode:yaml -*-
#  Cilium Cluster Mesh Secret manifest (generated by Ansible)
#
# last update: {{ '%Y-%m-%d %H:%M:%S %Z' | strftime(ansible_date_time.epoch) }}
#
#
apiVersion: v1
kind: Secret
metadata:
  name: {{ cilium_clustermesh_secret_name }}
  namespace: {{ cilium_clustermesh_secret_namespace }}
{% if cilium_clustermesh_secret_labels %}
  labels:
{% for key, value in cilium_clustermesh_secret_labels.items() | sort %}
    {{ key }}: {{ value }}
{% endfor %}
{% endif %}
{% if cilium_clustermesh_secret_annotations %}
  annotations:
{% for key, value in cilium_clustermesh_secret_annotations.items() | sort %}
    {{ key }}: {{ value }}
{% endfor %}
{% endif %}
type: kubernetes.io/tls
data:
  {{ cilium_clustermesh_secret_cert_key }}: {{ ca_b64 }}
  {{ cilium_clustermesh_secret_tls_cert_key }}: {{ tls_cert_b64 }}
  {{ cilium_clustermesh_secret_tls_key_key }}: {{ tls_key_b64 }}
