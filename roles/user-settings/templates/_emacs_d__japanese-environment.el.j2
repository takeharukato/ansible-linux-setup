;;  Ansible playbook
;;  Copyright 2020 Takeharu KATO All Rights Reserved.
;; This file is generated by ansible.
{# 日付の取得 #}
;; last update: {{ '%Y-%m-%d %H:%M:%S %Z' | strftime(ansible_date_time.epoch) }}
;;

;;  Ansible playbook
;;  Copyright 2020 Takeharu KATO All Rights Reserved.
;; This file is generated by ansible.
;; last update: 2022-03-08 14:13:47 UTC
;;

;;
;;  init.el
;;  -*- coding:utf-8 mode:emacs-lisp -*-
;;

;;
;;日本語環境設定(UTF-8)
;;

(set-language-environment "Japanese")         ;;日本語を使用
(set-default-coding-systems 'utf-8)           ;;UTF-8環境(GNOMEを使うので)
(set-buffer-file-coding-system 'utf-8)        ;;UTF-8環境(GNOMEを使うので)
(setq set-buffer-process-coding-system 'utf-8)
(prefer-coding-system 'utf-8)
;;(setq coding-system-for-write 'utf-8)
(add-hook 'shell-mode-hook
           (lambda ()
	     (set-buffer-process-coding-system 'utf-8
					       'utf-8)))

;;
;; キーバインド
;;
;(global-set-key "\C-o" 'toggle-input-method)  ;; Ctrl+oで日本語入力切り替え

;;
;; ローマ字で日本語検索する cmigemoを使用
;; 参考: https://www.yokoweb.net/2017/03/05/emacs-ubuntu-migemo/
;;
;; cmigemoコマンドがPATH環境変数上のパスに存在する場合にのみ設定
;;
(when (and (executable-find "cmigemo") ;; cmigemoコマンドがPATH上に存在し, かつ,
	   (require 'migemo nil t))    ;; migemoライブラリがemacs lispパス上にあるか?

  (setq migemo-options '("-q" "--emacs")) ;; migemoのオプションを指定する

  (setq migemo-user-dictionary nil)  ;; ユーザ辞書を使用しない
  (setq migemo-regex-dictionary nil) ;; 正規表現辞書を使用しない
  (setq migemo-coding-system 'utf-8-unix) ;; 文字コードはutf-8を想定
  (load-library "migemo") ;; migemoライブラリをロードする
  ;; migemoのコマンド名
  (setq migemo-command "cmigemo")
  ;; migemoの辞書
  (setq migemo-dictionary "/usr/share/cmigemo/utf-8/migemo-dict")
  (migemo-init)           ;; migemoライブラリを初期化する
  )
